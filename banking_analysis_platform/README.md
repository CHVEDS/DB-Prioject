# Единая веб-платформа анализа банковской устойчивости

## Общее описание

Единая веб-платформа анализа банковской устойчивости — это современное приложение на основе Streamlit для автоматизированного анализа годовых отчетов банков. Платформа позволяет загружать PDF-файлы годовых отчетов банков, извлекать финансовые данные, вычислять ключевые показатели устойчивости и формировать аналитические отчеты.

## Особенности

- **Автоматическое извлечение данных**: Использует библиотеку `magic-pdf` для извлечения табличных данных из PDF-файлов
- **Корпоративный дизайн**: Сине-белая цветовая схема (#0052A3, #FFFFFF, #E6F2FF) с современным интерфейсом
- **Множественная загрузка**: Поддержка одновременной загрузки нескольких PDF-файлов
- **Расчет коэффициентов устойчивости**: Вычисление ключевых банковских показателей:
  - Коэффициент достаточности капитала
  - Мгновенная ликвидность
  - Текущая ликвидность
  - Рентабельность активов (ROA)
  - Рентабельность собственного капитала (ROE)
  - Чистая процентная маржа
  - Доля проблемных кредитов
- **Индекс банковской устойчивости (BSI)**: Комплексная оценка устойчивости банка
- **Система экспорта**: Возможность экспорта результатов в различных форматах (Excel, CSV, TXT)
- **Рейтинг банков**: Сравнительная таблица банков с ранжированием по устойчивости
- **Хранение данных в памяти**: Все данные хранятся в `session_state` без сохранения на диск

## Структура проекта

```
banking_analysis_platform/
├── .streamlit/
│   └── config.toml          # Конфигурация темы Streamlit
├── analytics/
│   ├── __init__.py
│   ├── bsi.py              # Расчет индекса банковской устойчивости
│   └── calculator.py       # Калькулятор банковских коэффициентов
├── config/
│   ├── __init__.py
│   ├── account_codes.py    # Коды счетов банковского плана счетов
│   ├── patterns.py         # Паттерны для поиска финансовых показателей
│   └── styles.py          # CSS стили и конфигурация темы
├── core/
│   ├── __init__.py
│   ├── data_aggregator.py # Агрегация финансовых данных
│   ├── export_manager.py  # Управление экспортом отчетов
│   ├── metadata_extractor.py # Извлечение метаданных из отчетов
│   └── pdf_processor.py   # Обработка PDF файлов
├── utils/
│   ├── __init__.py
│   ├── file_utils.py      # Утилиты работы с файлами
│   ├── logging_config.py  # Конфигурация логирования
│   └── validators.py      # Валидаторы данных
├── app.py                 # Главный модуль приложения
├── requirements.txt       # Зависимости проекта
└── README.md             # Документация (этот файл)
```

## Требования

- Python 3.8+
- Библиотеки, указанные в `requirements.txt`

## Установка и запуск

### 1. Установка зависимостей

```bash
pip install -r requirements.txt
```

### 2. Запуск приложения

```bash
cd banking_analysis_platform
streamlit run app.py
```

Приложение будет доступно по адресу `http://localhost:8501`

## Использование

### Загрузка отчетов

1. Откройте веб-интерфейс приложения
2. Нажмите кнопку "Загрузить PDF-файл(ы) годового отчета банка"
3. Выберите один или несколько PDF-файлов годовых отчетов банков
4. Дождитесь окончания обработки файлов

### Анализ данных

После загрузки отчетов платформа автоматически:
- Извлекает финансовые данные из отчетов
- Вычисляет ключевые показатели устойчивости
- Формирует рейтинг банков
- Отображает результаты анализа

### Экспорт результатов

В разделе "Экспорт результатов" можно:
- Сформировать индивидуальные отчеты по каждому банку
- Создать сводный отчет по всем банкам
- Экспортировать только коэффициенты
- Получить полный архив данных

Доступные форматы: Excel (.xlsx), CSV (.csv), текстовый файл (.txt)

## Ключевые функции

### 1. Рейтинг банков
Сравнительная таблица банков с ранжированием по индексу устойчивости (BSI), включающая:
- Название банка
- Год отчета
- Индекс устойчивости
- Объем активов
- Уровень капитала
- ROE и ликвидность
- Статус устойчивости

### 2. Индекс банковской устойчивости (BSI)
Комплексная оценка устойчивости банка, рассчитываемая как взвешенное среднее нормализованных значений ключевых показателей:
- Отличная (> 0.8): Банк демонстрирует отличную финансовую устойчивость
- Хорошая (0.6-0.8): Банк имеет хорошую финансовую устойчивость
- Удовлетворительная (0.4-0.6): Банк имеет удовлетворительную финансовую устойчивость
- Пониженная (0.2-0.4): Банк имеет пониженную финансовую устойчивость
- Критическая (< 0.2): Банк находится в критическом финансовом состоянии

### 3. Финансовые показатели
Платформа вычисляет следующие ключевые показатели:
- **Коэффициент достаточности капитала**: Отношение собственного капитала к рискованным активам
- **Мгновенная ликвидность**: Соотношение высоколиквидных активов к срочным обязательствам
- **Текущая ликвидность**: Соотношение текущих активов к текущим обязательствам
- **ROE**: Рентабельность собственного капитала
- **ROA**: Рентабельность активов
- **Чистая процентная маржа**: Разница между процентными доходами и расходами
- **Доля проблемных кредитов**: Отношение просроченных кредитов к общему портфелю

## Безопасность и конфиденциальность

- Все данные обрабатываются в памяти (session_state)
- Никакие файлы не сохраняются на диск
- При завершении работы все данные очищаются
- Не используются сторонние сервисы для обработки данных

## Ограничения

- Поддерживаются только PDF-файлы годовых отчетов банков
- Качество извлечения данных зависит от структуры исходного PDF
- Для корректной работы требуется наличие таблиц с финансовыми данными в отчете
- Размер загружаемых файлов ограничен 100 МБ

## Техническая поддержка

Для вопросов и технической поддержки обращайтесь к разработчикам системы.